<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>LIC_Professional_Bill_Vishal_Singh</title>
    <style>
        :root {
            --primary: #003366;
            --secondary: #00509d;
            --accent: #ffcc00;
            --growth: #28a745;
            --alert: #d32f2f;
            --light: #f8fafc;
        }
        
        @page { size: A4; margin: 10mm; }

        body { 
            font-family: 'Segoe UI', Arial, sans-serif; 
            background-color: #eef2f7; 
            margin: 0; 
            padding: 20px;
            color: #333;
        }
        
        .bill-card {
            max-width: 210mm;
            margin: auto;
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            border: 1px solid #ddd;
        }

        .header {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            padding: 30px 40px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .header-profile { display: flex; align-items: center; gap: 20px; }
        .photo-container {
            width: 80px; height: 100px; border: 2px solid white; border-radius: 4px;
            background: #fff; overflow: hidden;
        }
        .photo-container img { width: 100%; height: 100%; object-fit: cover; }

        .bill-meta { text-align: right; font-size: 13px; opacity: 0.9; }

        .payment-status-bar {
            background: #fff9c4;
            padding: 15px 40px;
            border-bottom: 2px solid var(--accent);
            display: flex;
            justify-content: space-between;
            font-weight: bold;
        }

        .content { padding: 30px 40px; }
        
        table { width: 100%; border-collapse: collapse; margin-bottom: 20px; }
        th { background: var(--light); color: var(--primary); padding: 10px; text-align: left; font-size: 11px; text-transform: uppercase; border-bottom: 2px solid #ddd; }
        td { padding: 10px; border-bottom: 1px solid #eee; font-size: 12px; }

        /* Receipt Button Style */
        .receipt-btn {
            background: #e2e8f0;
            color: var(--primary);
            padding: 5px 10px;
            border-radius: 4px;
            text-decoration: none;
            font-size: 10px;
            font-weight: bold;
            border: 1px solid #cbd5e1;
            transition: 0.2s;
        }
        .receipt-btn:hover { background: var(--secondary); color: white; }

        .calculation-area {
            background: var(--light);
            border-radius: 8px;
            padding: 20px;
            margin-left: auto;
            width: 350px;
        }

        .calc-row { display: flex; justify-content: space-between; padding: 5px 0; font-size: 14px; }
        .calc-row.final { font-size: 18px; color: var(--alert); border-top: 2px double #ccc; margin-top: 5px; padding-top: 10px; font-weight: bold; }

        .footer-action {
            display: grid;
            grid-template-columns: 1fr 200px;
            gap: 40px;
            padding: 30px 40px;
            background: #fafafa;
            border-top: 1px solid #eee;
            align-items: center;
        }

        .pay-btn {
            display: block;
            background: linear-gradient(135deg, #28a745, #1e7e34);
            color: white;
            padding: 15px;
            border-radius: 8px;
            text-decoration: none;
            font-size: 15px;
            font-weight: bold;
            text-align: center;
            box-shadow: 0 4px 12px rgba(40, 167, 69, 0.2);
        }

        @media print {
            body { background: white; padding: 0; }
            .bill-card { box-shadow: none; border: 1px solid #eee; }
            .pay-btn, .receipt-btn, .qr-input-area { display: none !important; }
        }
    </style>
</head>
<body>

<div class="bill-card">
    <div class="header">
        <div class="header-profile">
            <div class="photo-container">
                <img src="img_vishal.jpg" alt="Vishal Kumar Singh">
            </div>
            <div>
                <h1 style="margin:0; font-size: 24px;">LIC Premium Summary</h1>
                <p style="margin:5px 0;">Manager: <b>Vishal Kumar Singh</b></p>
                <span style="font-size: 12px;">ID: 9934291260 | Patna, Bihar</span>
            </div>
        </div>
        <div class="bill-meta">
            <p>Report Date: 02/01/2026</p>
            <p>Cycle: January 2026</p>
            <p style="color: var(--accent); font-weight: bold;">Status: ACTION REQUIRED</p>
        </div>
    </div>

    <div class="payment-status-bar">
        <span>ACCOUNT SUMMARY</span>
        <span id="top-due-date" style="color: var(--alert);">DUE ON: 04/01/2026</span>
    </div>

    <div class="content">
        <table>
            <thead>
                <tr>
                    <th>Policy Holder</th>
                    <th>Policy Number</th>
                    <th>Mode</th>
                    <th>Premium</th>
                    <th>Next Due</th>
                    <th>Receipt</th>
                </tr>
            </thead>
            <tbody id="bill-table">
                </tbody>
        </table>

        <div class="calculation-area">
            <div class="calc-row">
                <span>Gross Portfolio Total:</span>
                <span id="gross-total">₹0.00</span>
            </div>
            <div class="calc-row" style="color: var(--growth);">
                <span>Less: Already Paid Today:</span>
                <span>- ₹30,000.00</span>
            </div>
            <div class="calc-row final">
                <span>NET PAYABLE:</span>
                <span id="net-payable">₹0.00</span>
            </div>
        </div>
    </div>

    <div class="footer-action">
        <div class="qr-input-area">
            <h4 style="margin:0 0 10px 0; color: var(--primary);">Payment Instructions:</h4>
            <p style="font-size: 12px; color: #666; margin: 0;">Click "PAY BALANCE NOW" or scan QR. You can also download individual receipts from the table above.</p>
        </div>

        <div style="text-align: center;">
            <img src="qr.jpeg" alt="QR" style="width: 100px; height: 100px; margin-bottom: 10px; border: 1px solid #ddd; padding: 5px; border-radius: 5px;">
            <a href="#" id="dynamic-pay-btn" class="pay-btn">PAY BALANCE NOW</a>
        </div>
    </div>

    <div style="text-align: right; padding: 0 40px 20px;">
        <div style="display: inline-block; text-align: center; border-top: 1px solid #333; width: 200px; padding-top: 10px;">
            <strong style="font-size: 12px;">VISHAL KUMAR SINGH</strong><br>
            <span style="font-size: 10px; color: #777;">Authorized Advisor</span>
        </div>
    </div>
</div>

<script>
    // ---------------------------------------------------------
    // STEP 1: HOW TO ADD A NEW USER?
    // Simply add a new object inside this [ ] array. 
    // Format: { name: "Name", id: "PolicyNo", mode: "Mode", amt: 100.50, due: "Date" }
    // ---------------------------------------------------------
    const policies = [
        { name: "Ravishek Kumar", id: "887967184", mode: "Annual", amt: 19306.90, due: "23/09/2026" },
        { name: "Mukesh Kumar", id: "886424420", mode: "Annual", amt: 15663.00, due: "28/06/2026" },
        { name: "Puja Kumari", id: "885488385", mode: "Yearly", amt: 13849.30, due: "11/10/2026" },
        { name: "Kumari Priya Bharti", id: "869215524", mode: "Yearly", amt: 10643.00, due: "07/12/2026" },
        { name: "Avinash Kumar", id: "885489786", mode: "Yearly", amt: 9422.90, due: "27/10/2026" },
        { name: "Kishan Rai", id: "887145794", mode: "Half Yearly", amt: 7073.60, due: "22/05/2026" },
        { name: "Vishal Kumar Singh", id: "829864486", mode: "Quarterly", amt: 6698.00, due: "14/02/2026" }, // Added correctly
        { name: "Sunita Singh", id: "868383069", mode: "Annual", amt: 6554.10, due: "28/09/2026" },
        { name: "Renu Devi", id: "886474987", mode: "Half Yearly", amt: 5853.80, due: "19/03/2026" },
        // --- ADD NEW USER BELOW THIS LINE ---
        { name: "Naya User", id: "123456789", mode: "Annual", amt: 5000.00, due: "01/01/2027" } 
    ];

    let grossTotal = 0;
    const tableBody = document.getElementById('bill-table');

    // Load Table with Download Receipt Logic
    policies.forEach(p => {
        grossTotal += p.amt;
        
        // STEP 2: Path of your receipts on GitHub
        // Make sure you have a folder named 'receipts' and files named '887967184.pdf' etc.
        const receiptPath = `receipts/${p.id}.pdf`;

        tableBody.innerHTML += `
            <tr>
                <td><b>${p.name}</b></td>
                <td>${p.id}</td>
                <td>${p.mode}</td>
                <td style="color:var(--secondary); font-weight:500;">₹${p.amt.toLocaleString('en-IN')}</td>
                <td>${p.due}</td>
                <td><a href="${receiptPath}" class="receipt-btn" download>PDF ⬇</a></td>
            </tr>
        `;
    });

    // Update Calculations
    const paidAmount = 30000;
    const netPayable = grossTotal - paidAmount;

    document.getElementById('gross-total').innerText = "₹" + grossTotal.toLocaleString('en-IN', {minimumFractionDigits: 2});
    document.getElementById('net-payable').innerText = "₹" + netPayable.toLocaleString('en-IN', {minimumFractionDigits: 2});

    // Update UPI Button Link
    const upiLink = `upi://pay?pa=9934291260@ptaxis&pn=Vishal%20Kumar%20Singh&am=${netPayable.toFixed(2)}&cu=INR&tn=LIC%20Premium%20Payment`;
    document.getElementById('dynamic-pay-btn').setAttribute('href', upiLink);

</script>
</body>
</html>
